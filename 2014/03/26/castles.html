<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="HTML5 strategy : Strategy game experiment" />

    <link rel="stylesheet" type="text/css" media="screen" href="/html5_strategy/stylesheets/stylesheet.css">
    <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-48093245-2']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script>
    <title>HTML5 strategy</title>
  </head>

  <body>
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/tjbladez/html5_strategy">View on GitHub</a>

          <h1 id="project_title">HTML5 strategy</h1>
          <h2 id="project_tagline">Strategy game experiment</h2>
        </header>
    </div>

    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <div class="site">
          <p>
  <a href="/html5_strategy">Home</a>
</p>
<h2>Castles and Minimap Representation</h2>
<p class="meta">26 Mar 2014</p>

<div class="post">
<p>First of all, it is good to be back from my long waited vacation and trip home. Alright, now back to the good parts.</p>

<p>Previously I have explained how the minimap will work here with the combination of static and dynamic content in it. How we are going to
start adding one type of the important entities that need representation
on the minimap.</p>

<p>Not only I am not going to display every object and every entity on the minimap (it is not the purpose of the minimap), but also important objects on minimap often don&#39;t map to their real size (unlike terrain for example). This is done to accent the importance of crual entities and objects and make sure that they catch enough attention.</p>

<p>I am going to start by placing few castles on the map. For now this will be done manually, later we will build a generator for that.</p>

<div class="highlight"><pre><code class="coffeescript">  <span class="nv">placeCastles: </span><span class="p">()</span><span class="nf">-&gt;</span>
    <span class="vi">@castles =</span>
      <span class="nv">player: </span> <span class="p">[{</span><span class="nv">x: </span><span class="mi">12</span><span class="p">,</span> <span class="nv">y: </span><span class="mi">12</span><span class="p">}]</span>
      <span class="nv">enemy: </span>  <span class="p">[{</span><span class="nv">x: </span><span class="mi">114</span><span class="p">,</span> <span class="nv">y: </span><span class="mi">59</span><span class="p">}]</span>
      <span class="nv">neutral: </span><span class="p">[{</span><span class="nx">x</span><span class="o">:</span><span class="mi">33</span><span class="p">,</span><span class="nx">y</span><span class="o">:</span><span class="mi">10</span><span class="p">},</span>
                <span class="p">{</span><span class="nx">x</span><span class="o">:</span><span class="mi">33</span><span class="p">,</span><span class="nx">y</span><span class="o">:</span><span class="mi">30</span><span class="p">},</span>
                <span class="p">{</span><span class="nx">x</span><span class="o">:</span><span class="mi">47</span><span class="p">,</span><span class="nx">y</span><span class="o">:</span><span class="mi">54</span><span class="p">},</span>
                <span class="p">{</span><span class="nx">x</span><span class="o">:</span><span class="mi">79</span><span class="p">,</span><span class="nx">y</span><span class="o">:</span><span class="mi">53</span><span class="p">},</span>
                <span class="p">{</span><span class="nx">x</span><span class="o">:</span><span class="mi">81</span><span class="p">,</span><span class="nx">y</span><span class="o">:</span><span class="mi">76</span><span class="p">},</span>
                <span class="p">{</span><span class="nx">x</span><span class="o">:</span><span class="mi">46</span><span class="p">,</span><span class="nx">y</span><span class="o">:</span><span class="mi">77</span><span class="p">},</span>
                <span class="p">{</span><span class="nx">x</span><span class="o">:</span><span class="mi">21</span><span class="p">,</span><span class="nx">y</span><span class="o">:</span><span class="mi">83</span><span class="p">},</span>
                <span class="p">{</span><span class="nx">x</span><span class="o">:</span><span class="mi">29</span><span class="p">,</span><span class="nx">y</span><span class="o">:</span><span class="mi">117</span><span class="p">},</span>
                <span class="p">{</span><span class="nx">x</span><span class="o">:</span><span class="mi">68</span><span class="p">,</span><span class="nx">y</span><span class="o">:</span><span class="mi">98</span><span class="p">},</span>
                <span class="p">{</span><span class="nx">x</span><span class="o">:</span><span class="mi">115</span><span class="p">,</span><span class="nx">y</span><span class="o">:</span><span class="mi">117</span><span class="p">},</span>
                <span class="p">{</span><span class="nx">x</span><span class="o">:</span><span class="mi">117</span><span class="p">,</span><span class="nx">y</span><span class="o">:</span><span class="mi">86</span><span class="p">},</span>
                <span class="p">{</span><span class="nx">x</span><span class="o">:</span><span class="mi">61</span><span class="p">,</span><span class="nx">y</span><span class="o">:</span><span class="mi">7</span><span class="p">},</span>
                <span class="p">{</span><span class="nx">x</span><span class="o">:</span><span class="mi">83</span><span class="p">,</span><span class="nx">y</span><span class="o">:</span><span class="mi">38</span><span class="p">},</span>
                <span class="p">{</span><span class="nx">x</span><span class="o">:</span><span class="mi">114</span><span class="p">,</span><span class="nx">y</span><span class="o">:</span><span class="mi">19</span><span class="p">}]</span>

    <span class="nx">_</span><span class="p">(</span><span class="nx">@castles</span><span class="p">.</span><span class="nx">player</span><span class="p">).</span><span class="nx">each</span> <span class="nf">(i)=&gt;</span>
      <span class="nx">@spawnEntity</span><span class="p">(</span><span class="nx">tj</span><span class="p">.</span><span class="nx">PlayerCastle</span><span class="p">,</span> <span class="nx">i</span><span class="p">.</span><span class="nx">x</span><span class="o">*</span><span class="nx">@tileSize</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">y</span><span class="o">*</span><span class="nx">@tileSize</span><span class="o">-</span><span class="mi">8</span><span class="p">)</span>
    <span class="nx">_</span><span class="p">(</span><span class="nx">@castles</span><span class="p">.</span><span class="nx">neutral</span><span class="p">).</span><span class="nx">each</span> <span class="nf">(i)=&gt;</span>
      <span class="nx">@spawnEntity</span><span class="p">(</span><span class="nx">tj</span><span class="p">.</span><span class="nx">NeutralCastle</span><span class="p">,</span> <span class="nx">i</span><span class="p">.</span><span class="nx">x</span><span class="o">*</span><span class="nx">@tileSize</span><span class="p">,</span> <span class="nx">i</span><span class="p">.</span><span class="nx">y</span><span class="o">*</span><span class="nx">@tileSize</span><span class="o">-</span><span class="mi">8</span><span class="p">)</span>
    <span class="nx">_</span><span class="p">(</span><span class="nx">@castles</span><span class="p">.</span><span class="nx">enemy</span><span class="p">).</span><span class="nx">each</span> <span class="nf">(i)=&gt;</span>
      <span class="nx">@spawnEntity</span><span class="p">(</span><span class="nx">tj</span><span class="p">.</span><span class="nx">EnemyCastle</span><span class="p">,</span> <span class="nx">i</span><span class="p">.</span><span class="nx">x</span><span class="o">*</span><span class="nx">@tileSize</span><span class="p">,</span> <span class="nx">i</span><span class="p">.</span><span class="nx">y</span><span class="o">*</span><span class="nx">@tileSize</span><span class="o">-</span><span class="mi">8</span><span class="p">)</span>
</code></pre></div>

<p>Castles themselves are simple 64x64 entities (with 64x72 animation for them). Normally that would corresponds to a 4x4 area on the minimap which is not enough to represent entity of that importance. I do also need to make sure ownership of the castle is correctly reflected as well.</p>

<p>This is why I created a special image data object to represent castle on the dynamic part of the minimap with correct offset placement. That object will also reflect ownership of the castle on the minimap via use of color.</p>

</div>

        </div>
      </section>
    </div>
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">HTML5 strategy maintained by <a href="https://github.com/tjbladez">tjbladez</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>
  </body>
</html>
