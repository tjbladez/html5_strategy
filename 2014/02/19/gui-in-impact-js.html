<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="HTML5 strategy : Strategy game experiment" />

    <link rel="stylesheet" type="text/css" media="screen" href="/html5_strategy/stylesheets/stylesheet.css">
    <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-48093245-2']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script>
    <title>HTML5 strategy</title>
  </head>

  <body>
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/tjbladez/html5_strategy">View on GitHub</a>

          <h1 id="project_title">HTML5 strategy</h1>
          <h2 id="project_tagline">Strategy game experiment</h2>
        </header>
    </div>

    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <div class="site">
          <p>
  <a href="/html5_strategy">Home</a>
</p>
<h2>GUI in Impact.js</h2>
<p class="meta">19 Feb 2014</p>

<div class="post">
<p>If you are following <a href="http://html5-strategy.herokuapp.com/">http://html5-strategy.herokuapp.com/</a> you will see map generation was finished.
It has sprite randomization and few other basic things. Next step starting to work on the basics of the interface of the game.</p>

<p>After few experiments my decision was to go with the basic - &quot;frame on top&quot; concept. It is sticky frame that has a main content in the primary section and additional content in the secondary section. Usually games get away with freezing interface dimentions (easier for calculations). I will probably go <a href="https://developer.mozilla.org/en-US/docs/Web/Guide/CSS/Media_queries">media queries</a> route and freeze interfaces after.</p>

<p>Meanwhile I created dummy frames that subclass very primitive overlay I created and use fixed position div elements place it in the correct locations and on top of the canvas.</p>

<div class="highlight"><pre><code class="coffeescript">  <span class="nv">tj.Overlay = </span><span class="nx">ig</span><span class="p">.</span><span class="nx">Class</span><span class="p">.</span><span class="nx">extend</span>
    <span class="nv">className: </span><span class="s">&#39;gui-overlay&#39;</span>
    <span class="nv">$el: </span><span class="kc">null</span>
    <span class="nv">init: </span><span class="nf">(opts={})-&gt;</span>
      <span class="nv">classes = </span><span class="nx">@className</span>
      <span class="nx">classes</span> <span class="o">+=</span> <span class="s">&quot; </span><span class="si">#{</span><span class="nx">opts</span><span class="p">.</span><span class="nx">className</span><span class="si">}</span><span class="s">&quot;</span> <span class="k">if</span> <span class="nx">opts</span><span class="p">.</span><span class="nx">className</span>
      <span class="nv">width   = </span><span class="nx">opts</span><span class="p">.</span><span class="nx">width</span> <span class="o">||</span> <span class="nx">ig</span><span class="p">.</span><span class="nx">game</span><span class="p">.</span><span class="nx">width</span>
      <span class="nv">height  = </span><span class="nx">opts</span><span class="p">.</span><span class="nx">height</span> <span class="o">||</span> <span class="nx">ig</span><span class="p">.</span><span class="nx">game</span><span class="p">.</span><span class="nx">height</span>
      <span class="vi">@$el = </span><span class="nx">$</span><span class="p">(</span><span class="s">&#39;&lt;div&gt;&lt;/div&gt;&#39;</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="nx">classes</span><span class="p">).</span><span class="nx">width</span><span class="p">(</span><span class="nx">width</span><span class="p">).</span><span class="nx">height</span><span class="p">(</span><span class="nx">height</span><span class="p">)</span>
      <span class="nx">$</span><span class="p">(</span><span class="s">&#39;canvas&#39;</span><span class="p">).</span><span class="nx">after</span><span class="p">(</span><span class="nx">@$el</span><span class="p">)</span>
</code></pre></div>

<p>Few things are worth noting if you, like me, are using dynamic sizing which snaps to the nearest perfect tile.</p>

<div class="highlight"><pre><code class="coffeescript"><span class="nx">var</span> <span class="nv">width  = </span><span class="nb">parseInt</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">width</span><span class="p">()</span><span class="o">/</span><span class="nx">tilesize</span><span class="p">)</span><span class="o">*</span><span class="nx">tilesize</span><span class="p">;</span>
<span class="nx">var</span> <span class="nv">height = </span><span class="nb">parseInt</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">height</span><span class="p">()</span><span class="o">/</span><span class="nx">tilesize</span><span class="p">)</span><span class="o">*</span><span class="nx">tilesize</span><span class="p">;</span>
</code></pre></div>

<ol>
<li><p>You need to make sure your boundaries are correspondingly updates so that interface/gui frames lay outside of your game - to prevent hiding potentially important tiles and to prevent off map scrolling.</p></li>
<li><p>You need to make sure you think about where and what events you want to capture, be it on canvas or outside of canvas and you will likely need to build a system of communication between those elements.</p></li>
</ol>

<p>Here I will be planning to use combination of canvas based gui elements as well as carefully placed html gui elements.</p>

</div>

        </div>
      </section>
    </div>
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">HTML5 strategy maintained by <a href="https://github.com/tjbladez">tjbladez</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>
  </body>
</html>
